<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Belgium Identity Card PKCS11 registration</title>
</head>
<body>

<script LANGUAGE="JavaScript1.2">
<!-- Hide from old browsers

	var lang = navigator.language;
	if (lang == null)
		lang = navigator.userLanguage;
	var langInd = 0;

	var EN = 0;
	var NL = 1;
	var FR = 2;
	var DE = 3;

	if (lang == null)
		langInd = EN;
	else if (lang.indexOf("nl-") != -1)
		langInd = NL;
	else if (lang.indexOf("fr-") != -1)
		langInd = FR;
	else if (lang.indexOf("de-") != -1)
		langInd = DE;

	p11Name = "Belgium Identity Card PKCS#11";
	p11Lib  = "beidpkcs11.dll";

	if (langInd == NL)
		document.write("<h3>Registratie van de \"" + p11Name + "\" module in Mozilla, Netscape of Firefox</h3>");
	else if (langInd == FR)
		document.write("<h3>Enregistrement du module \"" + p11Name + "\" dans Mozilla, Netscape ou Firefox</h3>");
	else if (langInd == DE)
		document.write("<h3>Registrierung des \"" + p11Name + "\"-Moduls im Mozilla, Netscape oder Firefox</h3>");
	else
		document.write("<h3>Registration of the \"" + p11Name + "\" module in Mozilla, Netscape or Firefox</h3>");

	var manReg = "<p>\n<b>Instructions to perform a manual registration a  manual registration:</b>\n" +
		"<li>Go to \"Edit\" - \"Preferences\" - \"Privacy and Security\" - \"Certificates\"</li>\n" +
		"<li>Click \"Manage Security Devices\" - click \"Load\</li>\n" +
		"<li>Fill in \"" + p11Name + "\" as <i>Module Name</i> " +
		"and \"" + p11Lib + "\" as <i>Module Filename</i> and click \"OK\</li>\n";
	if (langInd == NL)
		manReg = "<p>\n<b>Instructies om een manuele registratie te doen:</b>\n" +
			"<li>Ga naar \"Bewerken\" - \"Voorkeuren\" - \"Privacy & Veiligheid\" - \"Certificaten\</li>\n" +
			"<li>Klik \"Veiligheidsapparaten beheren\" - klik \"Laden\</li>\n" +
			"<li>Vul \"" + p11Name + "\" in als <i>Modulenaam</i> " +
			"en vul \"" + p11Lib + "\" in als <i>Module bestandsnaam</i> en klik \"OK\</li>\n";
	else if (langInd == FR)
		manReg = "<p>\n<b>Proc�ure d'enregistrement manuel :</b>\n" +
			"<li>Allez �\"Edition\" - \"Pr��ences\" - \"Confidentialit�et s�urit�\" - \"Certificats\</li>\n" +
			"<li>Cliquez sur \"Gestion des p�iph�iques de s�urit�\" - cliquez sur \"Charger\</li>\n" +
			"<li>Compl�ez la zone \"" + p11Name + "\" du <i>Nom du module</i> " +
			"et compl�ez \"" + p11Lib + "\" du <i>Nom de fichier du module</i>, puis cliquez sur \"OK\</li>\n";
	else if (langInd == DE)
		manReg = "<p>\n<b>-Instruktionen, um eine manuelle Registrierung vorzunehmen:</b>\n" +
			"<li>Gehen Sie zu \"Bearbeiten\" - \"Einstellungen\" - \"Datenschutz und Sicherheit\" - \"Zertifikate\</li>\n" +
			"<li>Klicken Sie auf \"Kryptographie-Module verwalten\" - klicken Sie auf \"Laden\</li>\n" +
			"<li>geben Sie \"" + p11Name + "\" als <i>Modulname</i> ein" +
			"und geben Sie \"" + p11Lib + "\" als <i>-Moduldate-Dateinamen</i> ein und klicken Sie auf \"OK\</li>\n";

	var agt=navigator.userAgent.toLowerCase();
	if (((agt.indexOf("mozilla") == -1) && (agt.indexOf("firefox") == -1) &&
		 (agt.indexOf("thunderbird") == -1) && (agt.indexOf("netscape") == -1)) ||
		(agt.indexOf("msie") != -1) || (agt.indexOf("afari") != -1)) {

		if (langInd == NL)
			document.write("Dit bladerprogramma ondersteunt geen PKCS#11 modules. " +
				"PKCS#11 kan gebruikt worden met de Mozilla, Firefox of Netscape bladerprogramma's.");
		else if (langInd == FR)
			document.write("Ce navigateur ne prend pas en charge les modules PKCS#11. " +
				"PKCS#11 peut �re utilis�avec les navigateurs Mozilla, Firefox ou Netscape.");
		else if (langInd == DE)
			document.write("Dieses Browserprogramm untersttzt keine PKCS#11-Module. " +
				"PKCS#11 kann mit den Mozilla-, Firefox- oder Netscape-Browserprogrammen genutzt werden.");
		else
			document.write("This browser doesn't support PKCS#11 modules. " +
				"PKCS#11 can be used with the Mozilla, Firefox or Netscape browsers.");
	}
	else {
		if (navigator.platform.indexOf("Mac") >= 0)
			p11Lib = "/usr/local/lib/beid-pkcs11.bundle";
		else if (navigator.platform.indexOf("Linux") >= 0)
			p11Lib = "/usr/local/lib/libbeidpkcs11.so";

		res = pkcs11.addmodule(p11Name, p11Lib, 0, 0);

		if (res >= 0) {
			if (langInd == NL)
				document.write("De \"" + p11Name + "\" module is nu geregistreerd.");
			else if (langInd == FR)
				document.write("Le module \"" + p11Name + "\" est �pr�ent enregistr�");
			else if (langInd == DE)
				document.write("Das \"" + p11Name + "\"-Modul ist nun registriert.");
			else
				document.write("The \"" + p11Name + "\" module is now registered.");
		}
		else if (res == -2) {
			if (langInd == NL)
				document.write("Registratie van de \"" + p11Name + "\" module werd geannuleerd door de gebruiker.");
			else if (langInd == FR)
				document.write("L'enregistrement du module \"" + p11Name + "\" a ��annul�par l'utilisateur.");
			else if (langInd == DE)
				document.write("Die Registrierung des \"" + p11Name + "\"-Moduls wurde vom Anwender annulliert.");
			else
				document.write("Registration of the \"" + p11Name + "\" module was cancelled by the user.");
		}
		else if (res == -5) {
			if (langInd == NL)
				document.write("De module \"" + p11Lib + "\" kon niet worden geregistreerd. <br>\n" +
					"Indien u de middleware nog niet heeft geinstalleerd, moet u dit eerst doen. <br>\n" +
					"Zorg er ook voor dat een kaartlezer is geconnecteerd en werkt.\n" + manReg);
			else if (langInd == FR)
				document.write("Le module \"" + p11Lib + "\" n'a pas pu �re enregistr� <br>\n" +
					"Si le logiciel interm�iaire n'est pas encore install� vous devez commencer par l'installer. <br>\n" +
					"Assurez-vous qu'un lecteur de cartes est connect�et fonctionne.\n" + manReg);
			else if (langInd == DE)
				document.write("Das Modul \"" + p11Lib + "\" konnte nicht registriert werden. <br>\n" +
					"Falls Sie die Middleware noch nicht registriert haben, dann mssen Sie dies zuerst tun. <br>\n" +
					"Sorgen Sie dafr, dass ein Kartenleseger� angeschlossen ist und funktioniert.\n" + manReg);
			else
				document.write("The module \"" + p11Lib + "\" couldn't be registered. <br>\n" +
					"If you didn't install the middleware yet, you have to do this first. <br>\n" +
					"Also make sure that a card reader is connected and works.\n" + manReg);
		}
		else if (res = -10) {
			if (langInd == NL)
				document.write("De \"" + p11Name + "\" module is reeds geregistreerd.");
			else if (langInd == FR)
				document.write("Le module \"" + p11Name + "\" est d��enregistr�");
			else if (langInd == DE)
				document.write("Das \"" + p11Name + "\"-Modul ist bereits registriert.");
			else
				document.write("The \"" + p11Name + "\" module was already registered.");
		}
		else {
			if (langInd == NL)
				document.write("Het registreren van de \"" + p11Name + "\" module is mislukt, " +
					"foutcode = " + res + ".\n" + manReg);
			else if (langInd == FR)
				document.write("L'enregistrement du module \"" + p11Name + "\" a �hou� " +
					"code d'erreur = " + res + ".\n" + manReg);
			else if (langInd == DE)
				document.write("Das Registrieren des \"" + p11Name + "\"-Moduls ist misslungen, " +
					"Fehlercode = " + res + ".\n" + manReg);
			else
				document.write("The registration of the \"" + p11Name + "\" module failed, " +
					"error code = " + res + ".\n" + manReg);
		}
	}

//Hide from old browsers -->
</script>


<noscript>

<a HREF="#noscript-NL">Nederlands</a>
<a HREF="#noscript-FR">Fran�is</a>
<a HREF="#noscript-DE">Deutsch</a>
<a HREF="#noscript-EN">English</a>

<p>
<a name="noscript-NL"><h3>Registratie van de PKCS#11 module van de Belgische eID kaart in Mozilla, Netscape of Firefox</h3></a>
Deze procedure is uitsluitend bedoeld voor de volgende bladerprogramma's:
<li>Firefox 1.02 of beter</li>
<li>Mozilla 1.4 of beter</li>
<li>Netscape 7 of beter</li>
<br>
Deze procedure is niet bedoeld voor andere bladerprogramma's zoals Internet Explorer, Opera, Apple Safari of KDE Konqueror. 
<br><br>
Blijkbaar ondersteunt dit bladerprogramma geen JavaScript of is JavaScript momenteel uitgeschakeld.
Gelieve eerst JavaScript in te schakelen en dan deze pagina opnieuw te laden.<br>
</p>
<br>

<p>
<a name="noscript-FR"><h3>Enregistrement du module PKCS#11 de la carte eID belge dans Mozilla, Netscape ou Firefox</h3></a>
Cette proc�ure est uniquement destin� aux navigateurs suivants :
<li>Firefox 1.02 ou ult�ieur</li>
<li>Mozilla 1.4 ou ult�ieur</li>
<li>Netscape 7 ou ult�ieur</li>
<br>
Cette proc�ure ne s'applique pas aux autres navigateurs tels que Internet Explorer, Opera, Apple Safari ou KDE Konqueror. 
<br><br>
Il semble que ce navigateur ne prend pas en charge JavaScript ou JavaScript est momentan�ent d�activ�
Commencez par activer JavaScript, puis rechargez cette page.<br>
<br>
</p>
<br>

<p>
<a name="noscript-DE"><h3>-Registrierung des PKCS#11-Moduls der belgischen eID-Karte im Mozilla, Netscape oder Firefox</h3></a>
Dieses Verfahren ist ausschlie�ich fr die folgenden Browserprogramme bestimmt (Browser):
<li>Firefox 1.02 oder h�er</li>
<li>Mozilla 1.4 oder h�er</li>
<li>Netscape 7 oder h�er</li>
<br>
Dieses Verfahren ist nicht fr andere Browserprogramme, wie Internet Explorer, Opera, Apple Safari oder KDE Konqueror, bestimmt. 
<br><br>
Scheinbar untersttzt dieses Browserprogramm kein JavaScript oder ist JavaScript momentan deaktiviert.
Bitte zuerst JavaScript aktivieren und dann diese Seite erneut laden.<br>
</p>
<br>

<p>
<a name="noscript-EN"><h3>Registration of the Belgian eID card PKCS#11 module in Mozilla, Netscape or Firefox</h3></a>
This procedure is intended for the following browsers only:
<li>Firefox 1.02 or better</li>
<li>Mozilla 1.4 or better</li>
<li>Netscape 7 or better</li>
<br>
This procedure is not intended for other browsers like Internet Explorer, Opera, Apple Safari or KDE Konqueror.
<br><br>
It appears that this browser doesn't support JavaScript or JavaScript has been turned off.
Please make sure JavaScript is turned on and then reload this page to try again.<br>
</p>

</noscript>

</body>
</html>
